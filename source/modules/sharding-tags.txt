==========
Shard Tags
==========


Learing Objectives
------------------

Upon completing this module students should understand:

- The purpose for shard tags
- Advantages of using shard tags
- Potential drawbacks of shard tags


Tags - Overview
---------------

- Shard tags allow you to "tie" data to one or more shards.
- A shard tag describes a range of shard key values.
- If a chunk is in the shard tag range, it will live on a shard with that tag.


Example: DateTime
-----------------

- Documents older than one year need to be kept, but are rarely used. 
- You tag those ranges as "LTS" for Long Term Storage.
- Tag specific shards to hold LTS documents.
- These shards can be on cheaper, slower machines.
- Invest in high-performance servers for more frequently accessed data.


Example: Premium Tier
---------------------

- You have customers who want to pay for a "premium" tier.
- Give them access to high performance servers.
- Tag their document ranges appropriately.


Example: Location
-----------------

- You are required to keep certain data in its home country. 
- You include the country in the shard tag.
- Maintain data centers within each country that house the appropriate shards.
- Meets the country requirement but allows all servers to be part of the same system.


Tags - Caveats
--------------

- Because tagged chunks will only be on certain servers, if you tag more than those servers can handle, you'll have a problem.

  - You're not only worrying about your overall server load, you're worrying about server load for each of your tags.

- Your chunks will evenly distribute themselves across the available chunks. You cannot control things more fine grained than your tags.
